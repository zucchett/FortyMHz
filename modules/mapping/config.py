"""Configuration for the reconstruction code"""


# Layer    # Parameters

#          +--+--+--+--+--+--+--+--+
# 1        |  1  |  5  |  9  |  13 | 17 ...
#          +--+--+--+--+--+--+--+--+
# 2           |  3  |  7  |  11 | 15 ...
#          +--+--+--+--+--+--+--+--+
# 3        |  2  |  6  |  10 |  14 | 18 ...
#          +--+--+--+--+--+--+--+--+
# 4           |  4  |  8  |  12 | 16 ...
#          +--+--+--+--+--+--+


DURATION = {                         
    'orbit:bx': 3564,
    'orbit': 3564*25,
    'bx': 25.,
    'tdc': 25./30
}

TIME_WINDOW = (-50, 500)

### Chamber configuration
NCHANNELS  = 64    # channels per SL
NSL        = 4     # number of SL
### Cell parameters
XCELL     = 42.                      # cell width in mm
ZCELL     = 13.                      # cell height in mm
ZCHAMB    = 550.                     # spacing betweeen chambers in mm

TDRIFT    = 15.6*DURATION['bx']    # drift time in ns
VDRIFT    = XCELL*0.5 / TDRIFT     # drift velocity in mm/ns 

layer_z     = [  1,            3,            2,            4,         ]
chanshift_x = [  0,            -1,           0,            -1,        ]
posshift_z  = [  ZCELL*1.5,    -ZCELL*0.5,   ZCELL*0.5,    -ZCELL*1.5 ]
posshift_x  = [  -7.5*XCELL,   -7.5*XCELL,   -7.0*XCELL,   -7.0*XCELL ]


# keys: FPGA, TDC_CHANNEL

VIRTEX7_LAYER = {
	0  : 4,
	1  : 1,
	2  : 3,
	3  : 2,
	4  : 4,
	5  : 1,
	6  : 3,
	7  : 2,
	8  : 4,
	9  : 1,
	10 : 3,
	11 : 2,
	12 : 4,
	13 : 1,
	14 : 3,
	15 : 2,
	16 : 4,
	17 : 1,
	18 : 3,
	19 : 2,
	20 : 4,
	21 : 1,
	22 : 3,
	23 : 2,
	24 : 4,
	25 : 1,
	26 : 3,
	27 : 2,
	28 : 4,
	29 : 1,
	30 : 3,
	31 : 2,
	32 : 4,
	33 : 1,
	34 : 3,
	35 : 2,
	36 : 4,
	37 : 1,
	38 : 3,
	39 : 2,
	40 : 4,
	41 : 1,
	42 : 3,
	43 : 2,
	44 : 4,
	45 : 1,
	46 : 3,
	47 : 2,
	48 : 4,
	49 : 1,
	50 : 3,
	51 : 2,
	52 : 4,
	53 : 1,
	54 : 3,
	55 : 2,
	56 : 4,
	57 : 1,
	58 : 3,
	59 : 2,
	60 : 4,
	61 : 1,
	62 : 3,
	63 : 2,
	
	64 : 4,
	65 : 1,
	66 : 3,
	67 : 2,
	68 : 4,
	69 : 1,
	70 : 3,
	71 : 2,
	72 : 4,
	73 : 1,
	74 : 3,
	75 : 2,
	76 : 4,
	77 : 1,
	78 : 3,
	79 : 2,
	80 : 4,
	81 : 1,
	82 : 3,
	83 : 2,
	84 : 4,
	85 : 1,
	86 : 3,
	87 : 2,
	88 : 4,
	89 : 1,
	90 : 3,
	91 : 2,
	92 : 4,
	93 : 1,
	94 : 3,
	95 : 2,
	96 : 4,
	97 : 1,
	98 : 3,
	99 : 2,
	100 : 4,
	101 : 1,
	102 : 3,
	103 : 2,
	104 : 4,
	105 : 1,
	106 : 3,
	107 : 2,
	108 : 4,
	109 : 1,
	110 : 3,
	111 : 2,
	112 : 4,
	113 : 1,
	114 : 3,
	115 : 2,
	116 : 4,
	117 : 1,
	118 : 3,
	119 : 2,
	120 : 4,
	121 : 1,
	122 : 3,
	123 : 2,
	124 : 4,
	125 : 1,
	126 : 3,
	127 : 2,
	128 : 0,
}

VIRTEX7_WIRE = {
	0  : 0,
	1  : 1,
	2  : 1,
	3  : 1,
	4  : 1,
	5  : 2,
	6  : 2,
	7  : 2,
	8  : 2,
	9  : 3,
	10 : 3,
	11 : 3,
	12 : 3,
	13 : 4,
	14 : 4,
	15 : 4,
	16 : 4,
	17 : 5,
	18 : 5,
	19 : 5,
	20 : 5,
	21 : 6,
	22 : 6,
	23 : 6,
	24 : 6,
	25 : 7,
	26 : 7,
	27 : 7,
	28 : 7,
	29 : 8,
	30 : 8,
	31 : 8,
	32 : 8,
	33 : 9,
	34 : 9,
	35 : 9,
	36 : 9,
	37 : 10,
	38 : 10,
	39 : 10,
	40 : 10,
	41 : 11,
	42 : 11,
	43 : 11,
	44 : 11,
	45 : 12,
	46 : 12,
	47 : 12,
	48 : 12,
	49 : 13,
	50 : 13,
	51 : 13,
	52 : 13,
	53 : 14,
	54 : 14,
	55 : 14,
	56 : 14,
	57 : 15,
	58 : 15,
	59 : 15,
	60 : 15,
	61 : 16,
	62 : 16,
	63 : 16,
	
	64 : 16,
	65 : 1,
	66 : 1,
	67 : 1,
	68 : 1,
	69 : 2,
	70 : 2,
	71 : 2,
	72 : 2,
	73 : 3,
	74 : 3,
	75 : 3,
	76 : 3,
	77 : 4,
	78 : 4,
	79 : 4,
	80 : 4,
	81 : 5,
	82 : 5,
	83 : 5,
	84 : 5,
	85 : 6,
	86 : 6,
	87 : 6,
	88 : 6,
	89 : 7,
	90 : 7,
	91 : 7,
	92 : 7,
	93 : 8,
	94 : 8,
	95 : 8,
	96 : 8,
	97 : 9,
	98 : 9,
	99 : 9,
	100 : 9,
	101 : 10,
	102 : 10,
	103 : 10,
	104 : 10,
	105 : 11,
	106 : 11,
	107 : 11,
	108 : 11,
	109 : 12,
	110 : 12,
	111 : 12,
	112 : 12,
	113 : 13,
	114 : 13,
	115 : 13,
	116 : 13,
	117 : 14,
	118 : 14,
	119 : 14,
	120 : 14,
	121 : 15,
	122 : 15,
	123 : 15,
	124 : 15,
	125 : 16,
	126 : 16,
	127 : 16,
	128 : 16,
}
